{% load static %}

<link href="{% static 'css/includes/latest-articles.css' %}" rel="stylesheet">

<div class="latest-articles-wrapper">
    <!-- Mobile layout - logo above -->
    <div class="latest-articles-mobile-logo d-block d-md-none">
        <a href="{% url 'homepage:home' %}">
            <img src="{% static 'img/logo.png' %}" alt="Site Logo" class="img-fluid">
        </a>
    </div>

    <div class="latest-articles-container">
        <!-- Desktop layout -->
        <div class="latest-articles-desktop d-none d-md-flex">
            <!-- Left articles -->
            <div class="left-articles">
                {% for article in latest_articles %}
                    {% if forloop.counter0|divisibleby:2 %} {# Even indices: 0, 2, 4 #}
                    <div class="latest-article-card">
                        <a href="{% url 'articles:article-detail' article.id %}">
                            <div class="card-content">
                                <h3 class="article-title">{{ article.title|truncatechars:100 }}</h3>
                                <p class="article-meta desktop-meta">{{ article.created_at|date:"d.m.Y" }}</p>
                            </div>
                        </a>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- Centered logo - ABSOLUTE POSITION -->
            <div class="latest-articles-logo-center">
                <a href="{% url 'homepage:home' %}">
                    <img src="{% static 'img/logo.png' %}" alt="Site Logo" height="250">
                </a>
            </div>

            <!-- Right articles -->
            <div class="right-articles">
                {% for article in latest_articles %}
                    {% if not forloop.counter0|divisibleby:2 %} {# Odd indices: 1, 3, 5 #}
                    <div class="latest-article-card">
                        <a href="{% url 'articles:article-detail' article.id %}">
                            <div class="card-content">
                                <h3 class="article-title">{{ article.title|truncatechars:100 }}</h3>
                                <p class="article-meta desktop-meta">{{ article.created_at|date:"d.m.Y" }}</p>
                            </div>
                        </a>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>

        <!-- Mobile layout - carousel (unchanged) -->
        <div class="latest-articles-mobile d-flex d-md-none">
            <button class="carousel-arrow left-arrow">
                <img src="{% static 'img/scroll-arrow-left.png' %}" alt="Previous" class="arrow-img">
            </button>

            <div class="latest-articles-carousel">
                {% for article in latest_articles %}
                <div class="latest-article-card">
                    <a href="{% url 'articles:article-detail' article.id %}">
                        <h3 class="article-title">{{ article.title|truncatechars:100 }}</h3>
                        <p class="article-meta desktop-meta" style="text-align: end;">{{ article.created_at|date:"d.m.Y" }}</p>
                    </a>
                </div>
                {% endfor %}
            </div>

            <button class="carousel-arrow right-arrow">
                <img src="{% static 'img/scroll-arrow-right.png' %}" alt="Next" class="arrow-img">
            </button>
        </div>
    </div>
</div>

<div class="running-text-container">
    <div class="desktop-running-line">
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
        <span class="separator">•</span>
        <span>IF A ONE-HUNDRED-PERCENT PROBABILITY EXISTS, THEN IT IS ACHIEVABLE</span>
    </div>
</div>

<script src="{% static 'js/includes/latest-articles.js' %}"></script>
